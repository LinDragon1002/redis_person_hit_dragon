<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¾ç‹ vs å‹‡è€… - æˆ°é¬¥æŒ‡æ®ä¸­å¿ƒ</title>
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>âš”ï¸</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ²</text></svg>">
    
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- æ–°å¢ï¼šç©æ³•èªªæ˜æ¨£å¼ -->
    <style>
        /* ç©æ³•èªªæ˜å°ˆç”¨æ¨£å¼ */
        .help-modal-content {
            max-width: 700px;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .help-section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(0, 255, 255, 0.03);
            border-radius: 12px;
            border-left: 3px solid var(--neon-cyan);
        }
        
        .help-section h4 {
            color: var(--neon-cyan);
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .help-section h4 i {
            font-size: 1.2em;
        }
        
        .skill-list {
            display: grid;
            gap: 12px;
        }
        
        .skill-item {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .skill-item:hover {
            background: rgba(0, 255, 255, 0.1);
            transform: translateX(5px);
        }
        
        .skill-key {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.2em;
            color: #000;
        }
        
        .skill-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .skill-name {
            font-weight: 600;
            color: #fff;
        }
        
        .skill-desc {
            font-size: 0.85em;
            color: var(--text-secondary);
        }
        
        .skill-stats {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 2px;
            font-size: 0.8em;
        }
        
        .skill-damage {
            color: #ff6b6b;
        }
        
        .skill-heal {
            color: #51cf66;
        }
        
        .skill-cd {
            color: #ffd43b;
        }
        
        .tip-box {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 140, 0, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .tip-box h5 {
            color: #ffd700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .tip-box ul {
            margin: 0;
            padding-left: 20px;
            color: var(--text-secondary);
        }
        
        .tip-box li {
            margin-bottom: 5px;
        }
        
        .mode-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .mode-card {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .mode-card.manual {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.1), rgba(0, 217, 255, 0.05));
            border: 1px solid rgba(0, 217, 255, 0.3);
        }
        
        .mode-card.auto {
            background: linear-gradient(135deg, rgba(255, 0, 255, 0.1), rgba(255, 0, 255, 0.05));
            border: 1px solid rgba(255, 0, 255, 0.3);
        }
        
        .mode-card h5 {
            margin-bottom: 10px;
            font-size: 1em;
        }
        
        .mode-card.manual h5 { color: var(--neon-cyan); }
        .mode-card.auto h5 { color: var(--neon-purple); }
        
        .mode-card p {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin: 0;
        }
        
        /* å¹«åŠ©æŒ‰éˆ•æ¨£å¼ */
        .help-btn {
            background: transparent;
            border: 1px solid var(--neon-cyan);
            color: var(--neon-cyan);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }
        
        .help-btn:hover {
            background: var(--neon-cyan);
            color: #000;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }
        
        /* é›£åº¦é¸æ“‡æ¨£å¼ */
        .difficulty-selector {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .difficulty-btn {
            padding: 8px 20px;
            border-radius: 20px;
            border: 1px solid;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
            background: transparent;
        }
        
        .difficulty-btn.easy {
            border-color: #51cf66;
            color: #51cf66;
        }
        
        .difficulty-btn.normal {
            border-color: #ffd43b;
            color: #ffd43b;
        }
        
        .difficulty-btn.hard {
            border-color: #ff6b6b;
            color: #ff6b6b;
        }
        
        .difficulty-btn.active {
            color: #000;
        }
        
        .difficulty-btn.easy.active { background: #51cf66; }
        .difficulty-btn.normal.active { background: #ffd43b; }
        .difficulty-btn.hard.active { background: #ff6b6b; }
    </style>
</head>
<body>
    
    <!-- ç²’å­èƒŒæ™¯ç•«å¸ƒ -->
    <canvas id="particleCanvas"></canvas>
    
    <!-- é ‚éƒ¨ç§‘æŠ€å°èˆªæ¬„ -->
    <nav class="tech-navbar">
        <div class="container navbar-content">
            <div class="navbar-left">
                <div class="logo-container">
                    <i class="fas fa-dragon"></i>
                    <span class="brand-text">BATTLE ARENA</span>
                    <div class="logo-glow"></div>
                </div>
                <div class="system-status">
                    <span class="status-dot online"></span>
                    <span class="status-text">ç³»çµ±é‹è¡Œä¸­</span>
                </div>
            </div>
            <ul class="navbar-links">
                <li><a href="#" class="active"><i class="fas fa-chart-line"></i> æˆ°æƒ…ä¸­å¿ƒ</a></li>
                <li><a href="/leaderboard"><i class="fas fa-trophy"></i> æ’è¡Œæ¦œ</a></li>
                <li><a href="#achievements-section"><i class="fas fa-medal"></i> æˆå°±</a></li>
                <li><a href="/history"><i class="fas fa-history"></i> å…¨éƒ¨ç´€éŒ„</a></li>
            </ul>
            <div class="navbar-right" style="display: flex; align-items: center; gap: 15px;">
                <!-- æ–°å¢ï¼šç©æ³•èªªæ˜æŒ‰éˆ• -->
                <button class="help-btn" id="helpBtn">
                    <i class="fas fa-question-circle"></i>
                    <span>ç©æ³•èªªæ˜</span>
                </button>
                <div class="sound-toggle">
                    <i class="fas fa-volume-up" id="soundIcon"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- å³æ™‚é€šçŸ¥å€åŸŸ -->
    <div id="realtimeNotifications" class="realtime-notifications"></div>

    <div class="container main-content">
        <!-- ä¸»æ¨™é¡Œå€åŸŸ -->
        <header class="tech-header">
            <div class="header-bg-effect"></div>
            <div class="header-content">
                <div class="title-container">
                    <h1 class="glitch-text" data-text="æˆ°é¬¥æŒ‡æ®ä¸­å¿ƒ">æˆ°é¬¥æŒ‡æ®ä¸­å¿ƒ</h1>
                    <div class="subtitle-tech">
                        <span class="typing-text">å¯¦æ™‚ç›£æ§ç³»çµ± v2.0</span>
                        <span class="cursor">_</span>
                    </div>
                </div>
                
                <!-- é›£åº¦é¸æ“‡ (æ–°å¢) -->
                <div class="difficulty-selector">
                    <button class="difficulty-btn easy" data-difficulty="easy">ç°¡å–®</button>
                    <button class="difficulty-btn normal active" data-difficulty="normal">æ™®é€š</button>
                    <button class="difficulty-btn hard" data-difficulty="hard">å›°é›£</button>
                </div>
                
                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="control-panel">
                    <button id="runGameBtn" class="tech-btn primary">
                        <span class="btn-bg"></span>
                        <i class="fas fa-bolt"></i>
                        <span>å•Ÿå‹•æ±ºé¬¥</span>
                    </button>
                    <button id="autoBattleBtn" class="tech-btn auto">
                        <span class="btn-bg"></span>
                        <i class="fas fa-robot"></i>
                        <span>è‡ªå‹•æ¨¡å¼</span>
                    </button>
                </div>
                
                <div id="gameStatus" class="game-status-tech"></div>
            </div>
        </header>

        <!-- æ ¸å¿ƒæ•¸æ“šå„€è¡¨æ¿ -->
        <div class="dashboard-grid">
            <!-- å·¦å´ï¼šæˆ°é¬¥çµ±è¨ˆ -->
            <div class="dash-card stats-panel">
                <div class="card-header">
                    <h3><i class="fas fa-database"></i> æ ¸å¿ƒæ•¸æ“š</h3>
                    <div class="card-corner"></div>
                </div>
                <div class="stats-display">
                    <div class="stat-item pulse">
                        <div class="stat-icon" style="--icon-color: #00ffff;">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">ç¸½æˆ°é¬¥å ´æ¬¡</div>
                            <div class="stat-value counter" id="totalGames">0</div>
                        </div>
                        <div class="stat-bar"></div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-icon" style="--icon-color: #ff00ff;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">å¹³å‡å›åˆæ•¸</div>
                            <div class="stat-value counter" id="avgRounds">0</div>
                        </div>
                        <div class="stat-bar"></div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-icon" style="--icon-color: #ffd700;">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-label">å¹³æ‰‹å ´æ¬¡</div>
                            <div class="stat-value counter" id="draws">0</div>
                        </div>
                        <div class="stat-bar"></div>
                    </div>
                </div>
            </div>

            <!-- ä¸­é–“ï¼šå‹ç‡åœ“é¤…åœ– -->
            <div class="dash-card chart-panel">
                <div class="card-header">
                    <h3><i class="fas fa-chart-pie"></i> å‹ç‡åˆ†æ</h3>
                    <div class="card-corner"></div>
                </div>
                <div class="chart-container-tech">
                    <canvas id="winRateChart"></canvas>
                    <div class="chart-center-info">
                        <div class="center-label">ç¸½å ´æ¬¡</div>
                        <div class="center-value" id="centerTotal">0</div>
                    </div>
                </div>
                <div class="legend-tech">
                    <div class="legend-item dragon">
                        <div class="legend-dot"></div>
                        <span>é¾ç‹</span>
                        <strong id="dragonWinRate">0%</strong>
                    </div>
                    <div class="legend-item person">
                        <div class="legend-dot"></div>
                        <span>å‹‡è€…</span>
                        <strong id="personWinRate">0%</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- æˆ°å£«è©³ç´°è³‡è¨Š -->
        <div class="warriors-section">
            <div class="warrior-card dragon-side">
                <div class="card-header">
                    <h3><i class="fas fa-dragon"></i> é¾ç‹æ•¸æ“š</h3>
                    <div class="card-corner"></div>
                </div>
                <div class="warrior-content">
                    <div class="warrior-avatar">
                        <div class="avatar-frame dragon-frame">
                            <img src="../static/img/dragon_girl.png" alt="é¾ç‹" class="avatar-img">
                            <div class="avatar-glow"></div>
                        </div>
                        <div class="warrior-title">ç„°ä¹‹æ”¯é…è€…</div>
                        <div class="win-count">
                            <i class="fas fa-crown"></i>
                            <span id="dragonWins">0</span> å‹
                        </div>
                    </div>
                    
                    <div class="warrior-stats">
                        <div class="stat-row-tech">
                            <div class="stat-header">
                                <div class="stat-name"><i class="fas fa-fire"></i> ç¸½å‚·å®³</div>
                                <div class="stat-avg-badge" title="å¹³å‡æ¯å ´å‚·å®³">AVG: <span id="dragonAvgDamage">0</span></div>
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar dragon-progress">
                                    <div class="progress-fill" id="dragonDamageBar"></div>
                                </div>
                                <span class="stat-num" id="dragonTotalDamage">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-row-tech">
                            <div class="stat-header">
                                <div class="stat-name"><i class="fas fa-heart"></i> æ²»ç™‚é‡</div>
                                <div class="stat-avg-badge" title="å¹³å‡æ¯å ´æ²»ç™‚">AVG: <span id="dragonAvgHealing">0</span></div>
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar dragon-progress">
                                    <div class="progress-fill" id="dragonHealBar"></div>
                                </div>
                                <span class="stat-num" id="dragonTotalHealing">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-row-tech">
                            <div class="stat-name">
                                <i class="fas fa-star"></i> æš´æ“Šæ¬¡æ•¸
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar dragon-progress">
                                    <div class="progress-fill" id="dragonCritBar"></div>
                                </div>
                                <span class="stat-num" id="dragonTotalCrits">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warrior-card person-side">
                <div class="card-header">
                    <h3><i class="fas fa-hat-wizard"></i> å‹‡è€…æ•¸æ“š</h3>
                    <div class="card-corner"></div>
                </div>
                <div class="warrior-content">
                    <div class="warrior-avatar">
                        <div class="avatar-frame person-frame">
                            <img src="../static/img/person_boy.png" alt="å‹‡è€…" class="avatar-img">
                            <div class="avatar-glow"></div>
                        </div>
                        <div class="warrior-title">å…‰ä¹‹å®ˆè­·è€…</div>
                        <div class="win-count">
                            <i class="fas fa-crown"></i>
                            <span id="personWins">0</span> å‹
                        </div>
                    </div>
                    
                    <div class="warrior-stats">
                        <div class="stat-row-tech">
                            <div class="stat-header">
                                <div class="stat-name"><i class="fas fa-fire"></i> ç¸½å‚·å®³</div>
                                <div class="stat-avg-badge" title="å¹³å‡æ¯å ´å‚·å®³">AVG: <span id="personAvgDamage">0</span></div>
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar person-progress">
                                    <div class="progress-fill" id="personDamageBar"></div>
                                </div>
                                <span class="stat-num" id="personTotalDamage">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-row-tech">
                            <div class="stat-header">
                                <div class="stat-name"><i class="fas fa-heart"></i> æ²»ç™‚é‡</div>
                                <div class="stat-avg-badge" title="å¹³å‡æ¯å ´æ²»ç™‚">AVG: <span id="personAvgHealing">0</span></div>
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar person-progress">
                                    <div class="progress-fill" id="personHealBar"></div>
                                </div>
                                <span class="stat-num" id="personTotalHealing">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-row-tech">
                            <div class="stat-name">
                                <i class="fas fa-star"></i> æš´æ“Šæ¬¡æ•¸
                            </div>
                            <div class="stat-progress">
                                <div class="progress-bar person-progress">
                                    <div class="progress-fill" id="personCritBar"></div>
                                </div>
                                <span class="stat-num" id="personTotalCrits">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æˆå°±ç³»çµ± -->
        <div class="achievements-section" id="achievements-section">
            <div class="card-header">
                <h3><i class="fas fa-medal"></i> è§£é–æˆå°±</h3>
                <div class="card-corner"></div>
            </div>
            <div class="achievements-grid">
                <div class="achievement-badge locked" id="achievement1">
                    <div class="badge-icon"><i class="fas fa-fire"></i></div>
                    <div class="badge-name">é¦–å‹</div>
                    <div class="badge-desc">å®Œæˆç¬¬ä¸€å ´æˆ°é¬¥</div>
                </div>
                <div class="achievement-badge locked" id="achievement2">
                    <div class="badge-icon"><i class="fas fa-bolt"></i></div>
                    <div class="badge-name">é€£å‹ç‹</div>
                    <div class="badge-desc">é€£çºŒç²å‹ 5 å ´</div>
                </div>
                <div class="achievement-badge locked" id="achievement3">
                    <div class="badge-icon"><i class="fas fa-trophy"></i></div>
                    <div class="badge-name">ç™¾æˆ°è€å°‡</div>
                    <div class="badge-desc">å®Œæˆ 100 å ´æˆ°é¬¥</div>
                </div>
                <div class="achievement-badge locked" id="achievement4">
                    <div class="badge-icon"><i class="fas fa-star"></i></div>
                    <div class="badge-name">æš´æ“Šå¤§å¸«</div>
                    <div class="badge-desc">ç´¯è¨ˆ 50 æ¬¡æš´æ“Š</div>
                </div>
            </div>
        </div>

        <!-- æˆ°é¬¥æ­·å²è¨˜éŒ„ -->
        <div class="battle-history">
            <div class="card-header">
                <h3><i class="fas fa-history"></i> æˆ°é¬¥å±¥æ­·</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
                    <button class="filter-btn" data-filter="dragon">é¾ç‹å‹</button>
                    <button class="filter-btn" data-filter="person">å‹‡è€…å‹</button>
                    <button class="filter-btn" data-filter="draw">å¹³æ‰‹</button>
                </div>
                <div class="card-corner"></div>
            </div>
            <div id="gamesList" class="battle-list">
                <div class="loading-tech">
                    <div class="loading-spinner"></div>
                    <span>è¼‰å…¥æˆ°é¬¥æ•¸æ“š...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ç©å®¶åç¨±è¼¸å…¥æ¨¡æ…‹æ¡† -->
    <div id="playerNameModal" class="modal-tech" style="display: flex;">
        <div class="modal-content-tech" style="max-width: 500px;">
            <div class="modal-header">
                <h3><i class="fas fa-user"></i> æ­¡è¿ä¾†åˆ°æˆ°é¬¥ç«¶æŠ€å ´</h3>
            </div>
            <div class="player-name-input-container">
                <p style="color: var(--text-secondary); margin-bottom: 20px; text-align: center;">
                    è«‹è¼¸å…¥ä½ çš„ç©å®¶åç¨±ï¼Œä½ çš„æˆ°ç¸¾å°‡æœƒè¢«è¨˜éŒ„
                </p>
                <div class="input-group-tech">
                    <input type="text" id="playerNameInput" placeholder="è¼¸å…¥ä½ çš„åç¨±" maxlength="20" autocomplete="off">
                    <button id="confirmPlayerName" class="tech-btn primary">
                        <span class="btn-bg"></span>
                        <i class="fas fa-check"></i>
                        <span>é–‹å§‹æˆ°é¬¥</span>
                    </button>
                </div>
                <div style="margin-top: 15px; text-align: center;">
                    <label style="color: var(--text-secondary); font-size: 0.9em; cursor: pointer; display: inline-flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="rememberName" checked style="width: 16px; height: 16px; cursor: pointer;">
                        <span>è¨˜ä½æˆ‘çš„åç¨±ï¼ˆä¸‹æ¬¡è‡ªå‹•ç™»å…¥ï¼‰</span>
                    </label>
                </div>
                <p style="color: var(--text-muted); font-size: 0.85em; margin-top: 15px; text-align: center;">
                    æç¤ºï¼šè§’è‰²åç¨±ï¼ˆé¾ç‹/å‹‡è€…ï¼‰ä¸æœƒæ”¹è®Šï¼Œé€™åªæ˜¯è¨˜éŒ„æ˜¯èª°åœ¨æ“ä½œ
                </p>
            </div>
        </div>
    </div>

    <!-- æˆ°é¬¥å›æ”¾æ¨¡æ…‹æ¡† -->
    <div id="replayModal" class="modal-tech">
        <div class="modal-content-tech">
            <div class="modal-header">
                <h3><i class="fas fa-play-circle"></i> æˆ°é¬¥å›æ”¾</h3>
                <button class="close-btn-tech">&times;</button>
            </div>
            <div id="replayLog" class="replay-content"></div>
        </div>
    </div>

    <!-- æ–°å¢ï¼šç©æ³•èªªæ˜æ¨¡æ…‹æ¡† -->
    <div id="helpModal" class="modal-tech">
        <div class="modal-content-tech help-modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-book-open"></i> éŠæˆ²ç©æ³•èªªæ˜</h3>
                <button class="close-btn-tech" id="closeHelpModal">&times;</button>
            </div>
            
            <div class="help-content" style="padding: 20px;">
                <!-- éŠæˆ²æ¨¡å¼èªªæ˜ -->
                <div class="help-section">
                    <h4><i class="fas fa-gamepad"></i> éŠæˆ²æ¨¡å¼</h4>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">
                        é€™æ˜¯ä¸€æ¬¾å›åˆåˆ¶æˆ°é¬¥éŠæˆ²ï¼Œä½ å°‡æ‰®æ¼”<strong style="color: var(--person-color);">å‹‡è€…</strong>æŒ‘æˆ°å¼·å¤§çš„<strong style="color: var(--dragon-color);">é¾ç‹</strong>ï¼
                    </p>
                    <div class="mode-comparison">
                        <div class="mode-card manual">
                            <h5><i class="fas fa-hand-pointer"></i> æ‰‹å‹•æ¨¡å¼</h5>
                            <p>è¦ªè‡ªæ“æ§å‹‡è€…ï¼Œé¸æ“‡æŠ€èƒ½æ™‚æ©Ÿï¼Œæ¯å›åˆ 5 ç§’æ€è€ƒæ™‚é–“</p>
                        </div>
                        <div class="mode-card auto">
                            <h5><i class="fas fa-robot"></i> è‡ªå‹•æ¨¡å¼</h5>
                            <p>AI è‡ªå‹•æ“æ§æˆ°é¬¥ï¼Œé©åˆå¿«é€Ÿç´¯ç©æˆ°ç¸¾æˆ–æ›æ©Ÿ</p>
                        </div>
                    </div>
                </div>

                <!-- æŠ€èƒ½èªªæ˜ -->
                <div class="help-section">
                    <h4><i class="fas fa-magic"></i> å‹‡è€…æŠ€èƒ½</h4>
                    <div class="skill-list">
                        <div class="skill-item">
                            <div class="skill-key">1</div>
                            <div class="skill-info">
                                <div class="skill-name">âš”ï¸ å…‰ä¹‹æ–¬æ“Šï¼ˆæ™®æ”»ï¼‰</div>
                                <div class="skill-desc">åŸºç¤æ”»æ“ŠæŠ€èƒ½ï¼Œç©©å®šè¼¸å‡ºï¼Œæœ‰æ©Ÿç‡è§¸ç™¼æš´æ“Š</div>
                            </div>
                            <div class="skill-stats">
                                <span class="skill-damage">å‚·å®³: 2 (æš´æ“Š: 4)</span>
                                <span class="skill-cd">å†·å»: ç„¡</span>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-key">2</div>
                            <div class="skill-info">
                                <div class="skill-name">ğŸ’š æ²»ç™’</div>
                                <div class="skill-desc">æ¢å¾©è‡ªèº«ç”Ÿå‘½å€¼ï¼Œå±æ€¥æ™‚åˆ»çš„ä¿å‘½æŠ€èƒ½</div>
                            </div>
                            <div class="skill-stats">
                                <span class="skill-heal">æ²»ç™‚: +4 HP</span>
                                <span class="skill-cd">å†·å»: 2 å›åˆ</span>
                            </div>
                        </div>
                        <div class="skill-item">
                            <div class="skill-key">3</div>
                            <div class="skill-info">
                                <div class="skill-name">ğŸŒŸ å‹åˆ©ä¹‹æ–¬ï¼ˆå¤§çµ•ï¼‰</div>
                                <div class="skill-desc">é›†ä¸­å…¨åŠ›çš„å¼·åŠ›ä¸€æ“Šï¼Œæš´æ“Šå‚·å®³æ¥µé«˜ï¼</div>
                            </div>
                            <div class="skill-stats">
                                <span class="skill-damage">å‚·å®³: 5 (æš´æ“Š: 10)</span>
                                <span class="skill-cd">å†·å»: 5 å›åˆ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æˆ°é¬¥æ©Ÿåˆ¶ -->
                <div class="help-section">
                    <h4><i class="fas fa-cogs"></i> æˆ°é¬¥æ©Ÿåˆ¶</h4>
                    <ul style="color: var(--text-secondary); padding-left: 20px; line-height: 1.8;">
                        <li><strong>åˆå§‹è¡€é‡ï¼š</strong>é›™æ–¹çš†ç‚º 20 HP</li>
                        <li><strong>å›åˆåˆ¶ï¼š</strong>å‹‡è€…å…ˆæ‰‹ â†’ é¾ç‹å¾Œæ‰‹ â†’ å›åˆçµæŸ</li>
                        <li><strong>æš´æ“Šç‡ï¼š</strong>10% æ©Ÿç‡é€ æˆé›™å€å‚·å®³</li>
                        <li><strong>å‹åˆ©æ¢ä»¶ï¼š</strong>å°‡å°æ–¹ HP é™è‡³ 0 ä»¥ä¸‹</li>
                        <li><strong>å¹³æ‰‹ï¼š</strong>é›™æ–¹åŒæ™‚æ­¸é›¶ï¼ˆæ¥µå°‘è¦‹ï¼‰</li>
                    </ul>
                </div>

                <!-- ç­–ç•¥æç¤º -->
                <div class="tip-box">
                    <h5><i class="fas fa-lightbulb"></i> æˆ°è¡“å°æŠ€å·§</h5>
                    <ul>
                        <li>ğŸ’¡ å¤§çµ•é–‹å ´é¢¨éšªé«˜ï¼Œå»ºè­°å…ˆæ¶ˆè€—é¾ç‹è¡€é‡</li>
                        <li>ğŸ’¡ ç•¶è¡€é‡ä½æ–¼ 8 æ™‚ï¼Œè€ƒæ…®ä½¿ç”¨æ²»ç™‚ä¿å‘½</li>
                        <li>ğŸ’¡ æ²»ç™‚å¾Œä¸‹ä¸€å›åˆæ•µäººæœƒæ”»æ“Šï¼Œè¦ç®—å¥½è¡€é‡</li>
                        <li>ğŸ’¡ è§€å¯Ÿå†·å»æ™‚é–“ï¼Œåˆç†è¦åŠƒæŠ€èƒ½ä½¿ç”¨é †åº</li>
                        <li>ğŸ’¡ è‡ªå‹•æ¨¡å¼ AI æœƒéš¨æ©Ÿé¸æ“‡ï¼Œæ‰‹å‹•æ¨¡å¼æ›´å…·ç­–ç•¥æ€§</li>
                    </ul>
                </div>

                <!-- é›£åº¦èªªæ˜ -->
                <div class="help-section">
                    <h4><i class="fas fa-sliders-h"></i> é›£åº¦èªªæ˜</h4>
                    <div class="skill-list">
                        <div class="skill-item" style="border-left: 3px solid #51cf66;">
                            <div class="skill-key" style="background: #51cf66;">ç°¡</div>
                            <div class="skill-info">
                                <div class="skill-name" style="color: #51cf66;">ç°¡å–®æ¨¡å¼</div>
                                <div class="skill-desc">é¾ç‹ AI è¼ƒå¼±ï¼Œé©åˆæ–°æ‰‹ç·´ç¿’</div>
                            </div>
                        </div>
                        <div class="skill-item" style="border-left: 3px solid #ffd43b;">
                            <div class="skill-key" style="background: #ffd43b;">æ™®</div>
                            <div class="skill-info">
                                <div class="skill-name" style="color: #ffd43b;">æ™®é€šæ¨¡å¼</div>
                                <div class="skill-desc">æ¨™æº–é›£åº¦ï¼Œå…¬å¹³å°æ±º</div>
                            </div>
                        </div>
                        <div class="skill-item" style="border-left: 3px solid #ff6b6b;">
                            <div class="skill-key" style="background: #ff6b6b;">é›£</div>
                            <div class="skill-info">
                                <div class="skill-name" style="color: #ff6b6b;">å›°é›£æ¨¡å¼</div>
                                <div class="skill-desc">é¾ç‹ AI æ›´è°æ˜ï¼ŒæŒ‘æˆ°é«˜æ‰‹</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="../static/js/config.js"></script>
    <script src="../static/js/ui.js"></script>
    <script src="../static/js/player.js"></script>
    <script src="../static/js/api.js"></script>
    <script src="../static/js/handlers.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 1. åˆå§‹åŒ–ç©å®¶åç¨±
            initPlayerName();
            
            // 2. å•Ÿå‹•ç²’å­ç³»çµ±
            new ParticleSystem();
            
            // 3. ç¶å®šæŒ‰éˆ•äº‹ä»¶
            setupEventHandlers();
            
            // 4. ç¶å®šç©æ³•èªªæ˜æ¨¡æ…‹æ¡†
            setupHelpModal();
            
            // 5. ç¶å®šé›£åº¦é¸æ“‡
            setupDifficultySelector();
            
            // 6. åˆ¤æ–·é é¢ä¸¦è¼‰å…¥æ•¸æ“š
            if (document.getElementById('fullHistoryList')) {
                loadAllHistory();
            } else {
                loadStats();
                loadCharacterStats();
                loadRecentGames();
                initWebSocket();
            }
        });
        
        // ç©æ³•èªªæ˜æ¨¡æ…‹æ¡†
        function setupHelpModal() {
            const helpBtn = document.getElementById('helpBtn');
            const helpModal = document.getElementById('helpModal');
            const closeBtn = document.getElementById('closeHelpModal');
            
            helpBtn?.addEventListener('click', () => {
                helpModal.style.display = 'flex';
            });
            
            closeBtn?.addEventListener('click', () => {
                helpModal.style.display = 'none';
            });
            
            window.addEventListener('click', (e) => {
                if (e.target === helpModal) {
                    helpModal.style.display = 'none';
                }
            });
        }
        
        // é›£åº¦é¸æ“‡
        function setupDifficultySelector() {
            const btns = document.querySelectorAll('.difficulty-btn');
            btns.forEach(btn => {
                btn.addEventListener('click', () => {
                    btns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    const difficulty = btn.dataset.difficulty;
                    window.GameConfig.difficulty = difficulty;
                    localStorage.setItem('gameDifficulty', difficulty);
                    
                    const diffNames = { easy: 'ç°¡å–®', normal: 'æ™®é€š', hard: 'å›°é›£' };
                    showNotification(`é›£åº¦å·²è¨­ç‚º: ${diffNames[difficulty]}`);
                });
            });
            
            // è¼‰å…¥å·²å„²å­˜çš„é›£åº¦
            const savedDifficulty = localStorage.getItem('gameDifficulty') || 'normal';
            window.GameConfig.difficulty = savedDifficulty;
            document.querySelector(`.difficulty-btn[data-difficulty="${savedDifficulty}"]`)?.classList.add('active');
        }
    </script>
</body>
</html>
